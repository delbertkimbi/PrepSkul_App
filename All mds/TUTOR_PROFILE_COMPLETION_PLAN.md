# ğŸ“‹ TUTOR PROFILE COMPLETION PLAN

## ğŸ¯ **Your Concern:**
> "We are skipping so many important things in the onboarding process of the tutor. Please ensure while they are waiting for approval they must finish them up."

## âœ… **SOLUTION: Multi-Stage Tutor Onboarding**

---

## ğŸ“Š **Current Status**

### **What Tutors Submit Now:**
1. âœ… Personal Info (name, DOB, city, quarter, about me)
2. âœ… Academic Background (education, institution, certifications)
3. âœ… Experience (teaching history, motivation)
4. âœ… Tutoring Details (areas, levels, specializations)
5. âœ… Availability (hours/week, schedule)
6. âœ… Payment (method, rate, details)
7. âš ï¸ **Verification (ID, video, socials)** - Often skipped/incomplete
8. âš ï¸ **Profile Photo** - Optional but important
9. âš ï¸ **Documents** - Sometimes not uploaded

### **The Problem:**
- Tutors can skip video upload
- Documents might not be complete
- They submit for review with incomplete profiles
- **No way to complete missing items while "Pending Approval"**

---

## ğŸ¯ **PROPOSED SOLUTION**

### **Stage 1: Initial Application (Current Flow)**
**Goal:** Collect basic info to create tutor account

**Required Fields:**
- âœ… Personal Info
- âœ… Academic Background  
- âœ… Experience
- âœ… Tutoring Details
- âœ… Availability
- âœ… Payment Details

**Optional/Can Skip:**
- Profile Photo â†’ Can add later
- ID Cards â†’ Can upload later
- Certificates â†’ Can upload later
- Video Intro â†’ Can add later
- Social Links â†’ Can add later

**Result:** Tutor profile created with status = `incomplete`

---

### **Stage 2: Profile Completion (NEW!)**
**Goal:** Complete all required verification items before admin review

**Dashboard Shows:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš§ Complete Your Profile                  â”‚
â”‚                                             â”‚
â”‚  Your application is saved! Complete the   â”‚
â”‚  remaining items to submit for review.     â”‚
â”‚                                             â”‚
â”‚  âœ… Basic Information          (100%)      â”‚
â”‚  âœ… Academic Background         (100%)      â”‚
â”‚  âœ… Teaching Experience         (100%)      â”‚
â”‚  âš ï¸  Verification Documents     (60%)       â”‚
â”‚     â”œâ”€ âœ… Profile Photo                    â”‚
â”‚     â”œâ”€ âŒ ID Card (Front)      [Upload]    â”‚
â”‚     â”œâ”€ âŒ ID Card (Back)       [Upload]    â”‚
â”‚     â””â”€ âš ï¸  Certificates (2/3)  [Add More]  â”‚
â”‚  âŒ Video Introduction          (0%)        â”‚
â”‚     â””â”€ [Record/Upload Video]               â”‚
â”‚  âš ï¸  Social Profiles            (50%)       â”‚
â”‚     â”œâ”€ âœ… LinkedIn                         â”‚
â”‚     â””â”€ âŒ YouTube               [Add Link]  â”‚
â”‚                                             â”‚
â”‚  ğŸ“Š Profile Completion: 75%                â”‚
â”‚                                             â”‚
â”‚  [Complete Profile] [Save & Continue Later]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Required to Submit:**
- âœ… Profile Photo (must have)
- âœ… ID Card Front (must have)
- âœ… ID Card Back (must have)
- âœ… At least 1 certificate (if applicable)
- âœ… Video Introduction (must have)

**Optional:**
- Social links (recommended but not required)

---

### **Stage 3: Pending Admin Review**
**Status:** `pending_review`

**Dashboard Shows:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â³ Application Under Review                â”‚
â”‚                                             â”‚
â”‚  Your profile is being reviewed by our     â”‚
â”‚  admin team. This usually takes 24-48 hrs. â”‚
â”‚                                             â”‚
â”‚  ğŸ“Š Profile Completion: 100%               â”‚
â”‚  ğŸ“… Submitted: Oct 28, 2025                â”‚
â”‚                                             â”‚
â”‚  While you wait, you can:                  â”‚
â”‚  â€¢ Update your availability                â”‚
â”‚  â€¢ Add more certificates                   â”‚
â”‚  â€¢ Update your rate                        â”‚
â”‚  â€¢ Add social profiles                     â”‚
â”‚                                             â”‚
â”‚  [Edit Profile] [View Preview]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Tutor Can Still:**
- âœ… Update availability
- âœ… Upload additional certificates
- âœ… Update payment rate
- âœ… Add/edit social links
- âœ… Update "About Me"

**Tutor Cannot:**
- âŒ Change verification documents (ID cards, video)
- âŒ Change academic credentials
- âŒ Submit for review again (already submitted)

---

### **Stage 4: Approved/Active**
**Status:** `approved`

**Dashboard Shows:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Profile Approved!                       â”‚
â”‚                                             â”‚
â”‚  Congratulations! You can now start        â”‚
â”‚  receiving student requests.               â”‚
â”‚                                             â”‚
â”‚  ğŸ“Š Active Students: 0                     â”‚
â”‚  ğŸ’° Total Earnings: 0 XAF                  â”‚
â”‚  â­ Rating: New Tutor                      â”‚
â”‚                                             â”‚
â”‚  [Find Students] [Edit Profile]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ **IMPLEMENTATION PLAN**

### **Database Changes:**

```sql
ALTER TABLE tutor_profiles 
ADD COLUMN profile_completion_percentage INTEGER DEFAULT 0,
ADD COLUMN can_submit_for_review BOOLEAN DEFAULT false,
ADD COLUMN submitted_for_review_at TIMESTAMP;

-- Update verification_status to include new states
-- 'incomplete' â†’ 'pending_completion' â†’ 'pending_review' â†’ 'approved' / 'rejected'
```

### **Code Changes:**

#### **1. Profile Completion Calculator**
```dart
// lib/core/services/profile_completion_service.dart

class ProfileCompletionService {
  static int calculateCompletion(TutorProfile profile) {
    int totalPoints = 100;
    int earned = 0;
    
    // Basic Info (20 points)
    if (profile.fullName != null) earned += 5;
    if (profile.dateOfBirth != null) earned += 5;
    if (profile.city != null) earned += 5;
    if (profile.aboutMe != null && profile.aboutMe!.isNotEmpty) earned += 5;
    
    // Academic (15 points)
    if (profile.education != null) earned += 10;
    if (profile.certifications != null && profile.certifications!.isNotEmpty) earned += 5;
    
    // Experience (15 points)
    if (profile.teachingExperience != null) earned += 10;
    if (profile.previousRoles != null && profile.previousRoles!.isNotEmpty) earned += 5;
    
    // Tutoring Details (15 points)
    if (profile.tutoringAreas != null && profile.tutoringAreas!.isNotEmpty) earned += 8;
    if (profile.learnerLevels != null && profile.learnerLevels!.isNotEmpty) earned += 7;
    
    // Availability (10 points)
    if (profile.hoursPerWeek != null) earned += 5;
    if (profile.availability != null) earned += 5;
    
    // Payment (10 points)
    if (profile.paymentMethod != null) earned += 5;
    if (profile.hourlyRate != null) earned += 5;
    
    // Verification (15 points) - CRITICAL
    if (profile.profilePhotoUrl != null) earned += 3;
    if (profile.idCardFrontUrl != null) earned += 4;
    if (profile.idCardBackUrl != null) earned += 4;
    if (profile.videoIntroUrl != null) earned += 4;
    
    return (earned * 100) ~/ totalPoints;
  }
  
  static bool canSubmitForReview(TutorProfile profile) {
    // Must have all critical verification items
    return profile.profilePhotoUrl != null &&
           profile.idCardFrontUrl != null &&
           profile.idCardBackUrl != null &&
           profile.videoIntroUrl != null &&
           calculateCompletion(profile) >= 80; // At least 80% complete
  }
}
```

#### **2. Tutor Dashboard with Completion Status**
```dart
// lib/features/tutor/screens/tutor_home_screen.dart

class TutorHomeScreen extends StatefulWidget {
  @override
  Widget build(BuildContext context) {
    return FutureBuilder<TutorProfile>(
      future: _loadTutorProfile(),
      builder: (context, snapshot) {
        if (!snapshot.hasData) return CircularProgressIndicator();
        
        final profile = snapshot.data!;
        final completion = ProfileCompletionService.calculateCompletion(profile);
        final canSubmit = ProfileCompletionService.canSubmitForReview(profile);
        
        // Show different UI based on status
        if (profile.verificationStatus == 'incomplete') {
          return _buildIncompleteProfileUI(profile, completion, canSubmit);
        } else if (profile.verificationStatus == 'pending_review') {
          return _buildPendingReviewUI(profile);
        } else if (profile.verificationStatus == 'approved') {
          return _buildApprovedDashboardUI(profile);
        }
      },
    );
  }
}
```

#### **3. Profile Completion Checklist Widget**
```dart
// lib/features/tutor/widgets/profile_completion_checklist.dart

class ProfileCompletionChecklist extends StatelessWidget {
  final TutorProfile profile;
  
  Widget build(BuildContext context) {
    return Card(
      child: Column(
        children: [
          _buildChecklistItem(
            title: 'Profile Photo',
            isComplete: profile.profilePhotoUrl != null,
            onTap: () => _navigateToUpload('profile_photo'),
          ),
          _buildChecklistItem(
            title: 'ID Card (Front)',
            isComplete: profile.idCardFrontUrl != null,
            onTap: () => _navigateToUpload('id_front'),
          ),
          _buildChecklistItem(
            title: 'ID Card (Back)',
            isComplete: profile.idCardBackUrl != null,
            onTap: () => _navigateToUpload('id_back'),
          ),
          _buildChecklistItem(
            title: 'Video Introduction',
            isComplete: profile.videoIntroUrl != null,
            onTap: () => _navigateToUpload('video'),
          ),
          // ... more items
        ],
      ),
    );
  }
}
```

---

## ğŸ¯ **WHAT NEEDS TO BE IMPLEMENTED**

### **Priority 1 (Critical):**
1. âœ… Profile completion calculator
2. âœ… Updated tutor dashboard with completion status
3. âœ… Checklist widget for missing items
4. âœ… Ability to upload missing items from dashboard
5. âœ… "Submit for Review" button (only enabled when 100% complete)

### **Priority 2 (Important):**
6. Admin review interface (separate ticket)
7. Email/SMS notifications (when submitted, approved, rejected)
8. Rejection handling (admin can request changes)

### **Priority 3 (Nice to Have):**
9. Profile preview mode
10. Progress tracking analytics
11. Reminder notifications (24hr, 48hr after signup)

---

## ğŸ“ **NEXT STEPS**

**Would you like me to:**

**A)** Implement the profile completion system now? (2-3 hours)
- Create `ProfileCompletionService`
- Update `TutorHomeScreen` to show completion status
- Add checklist widget
- Enable upload from dashboard

**B)** First run the app with clean build to see current state?
- Run `flutter run -d macos`
- Test what's working
- Identify exact missing pieces

**C)** Create detailed tickets for V1 roadmap?
- Break down into small tasks
- Estimate time for each
- Prioritize by importance

---

**My Recommendation:** Option B â†’ Test current state, then Option A â†’ Implement completion system.

This ensures tutors **cannot submit incomplete profiles** and **must finish all required items while waiting for approval**! ğŸ¯


